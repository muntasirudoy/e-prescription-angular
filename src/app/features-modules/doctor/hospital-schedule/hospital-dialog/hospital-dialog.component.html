<div class="flex justify-between py-3 md:py-4 px-3 md:px-6 border-b-[1px] items-center">
  <h1 class="dashbord-heading-text text-[16px] md:text-[18px]">
    <i class="fa-solid fa-plus"></i>
    {{ editData ? "Update" : "Add" }} Hospital/Chamber
  </h1>
  <button class="btn-secondary-light" (click)="dialogRef.close(true)">
    Close
  </button>
</div>
<div class="px-6 md:px-10 py-4 md:py-6 max-w-[500px]">
  <form [formGroup]="form">
    <div class="-mx-3 flex flex-wrap">
      <div class="w-full px-3 sm:w-full">
        <div class="mb-5">
          <label for="chamberName" class="mb-2 block font-medium text-[14px] text-[#07074D]">
            Hospital/Chamber Name
          </label>
          <input formControlName="chamberName" type="text" name="chamberName" id="chamberName"
            placeholder="Hospital Name" required class="form_input" />

          <p class="text-red-500 text-sm" *ngIf="
              formSubmitted && form.get('chamberName')?.hasError('required')
            ">
            Hospital/Chamber name is required!
          </p>
          <p class="text-red-500 text-sm" *ngIf="form.get('chamberName')?.hasError('pattern')">
            Only letters and spaces are allowed in the Hospital name.
          </p>
          <p class="text-red-500 text-sm" *ngIf="form.get('chamberName')?.hasError('chamberNameExists')">
            Chamber name already exists!
          </p>
        </div>
      </div>
      <div class="w-full px-3 sm:w-1/2">
        <div class="mb-5">
          <label for="address" class="mb-2 block font-medium text-[14px] text-[#07074D]">
            Address
          </label>
          <input autocomplete="off" placeholder="Address" formControlName="address" type="text" name="address"
            id="address" class="form_input" />
          <p class="text-red-500 text-sm" *ngIf="formSubmitted && form.get('address')?.invalid">
            Address is required!
          </p>
        </div>
      </div>

      <div class="w-full px-3 sm:w-1/2">
        <div class="mb-5">
          <label for="city" class="mb-2 block font-medium text-[14px] text-[#07074D]">
            City
          </label>
          <input autocomplete="off" placeholder="City" formControlName="city" type="text" name="city" id="city"
            placeholder="City" class="form_input" />
          <p class="text-red-500 text-sm" *ngIf="formSubmitted && form.get('city')?.invalid">
            City name is required!
          </p>
        </div>
      </div>
      <div class="w-full px-3 sm:w-1/2">
        <div class="mb-5">
          <label for="country" class="mb-2 block font-medium text-[14px] text-[#07074D]">
            Country
          </label>
          <select autocomplete="off" formControlName="country" id="country" placeholder="Enter Country"
            class="w-full rounded-md border border-[#e0e0e0] bg-white py-1.5 md:py-2 px-3 text-base font-normal text-[14px] text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md">
            <option *ngFor="let item of countryList" value="{{ item }}" class="font-semibold text-gray-500">
              {{ item }}
            </option>
          </select>
          <p class="text-red-500 text-sm" *ngIf="formSubmitted && form.get('country')?.hasError('required')">
            Please select your country!
          </p>
        </div>
      </div>
      <div class="w-full px-3 sm:w-1/2">
        <div class="mb-5">
          <label for="zipCode" class="mb-2 block font-medium text-[14px] text-[#07074D]">
            Zip Code
          </label>
          <input autocomplete="off" placeholder="Zip Code" formControlName="zipCode" minlength="4" maxlength="5"
            type="text" name="zipCode" id="zipCode" placeholder="zipCode" class="form_input" />
          <p class="text-red-500 text-sm" *ngIf="formSubmitted && form.get('zipCode')?.hasError('required')">
            Zip code should be a 4-digit number.
          </p>
        </div>
      </div>
      <div class="w-full">

        <div class="mb-5 px-3">
          <mat-checkbox formControlName="isVisibleOnPrescription">
            Visible on Prescription
          </mat-checkbox>
          @if (showVisibilityMessage) {
          <p class="text-red-500 text-sm">
            You have already reached your limit! You can add only two chambers on prescription.
          </p>
          }
        </div>

      </div>
    </div>

    <button class="btn-secondary" (click)="submit()">
      {{ isLoading ? "Loading..." : "Submit" }}
    </button>
  </form>
</div>
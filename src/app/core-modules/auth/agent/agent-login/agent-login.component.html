<section
  class="flex flex-col w-full mx-auto md:flex-row items-center justify-center min-h-screen bg-white"
>
  <div
    class="md:w-1/2 w-full box-border flex flex-col items-center justify-center px-6 md:px-12"
  >
    <img
      routerLink="/"
      src="assets/auth/clr-logo.png"
      alt="Soowgood Logo"
      class="mb-8 max-w-[200px]"
    />
    <h2 class="text-[32px] text-center md: font-RobotoBold text-slate-900 mb-4">
      Welcome to our platform
    </h2>

    <p
      class="text-gray-600 font-poppinsLight text-sm max-w-[450px] text-center mb-4"
    >
      Please let us know the type of account you would like to open on our
      telemedicine platform.
    </p>

    <!--  -->
    <div class="w-full max-w-[450px]">
      <form class="mx-auto" [formGroup]="loginForm" (submit)="onSubmit()">
        <div class="flex flex-col space-y-5">
          <label for="mobile">
            <p class="font-medium text-slate-700 pb-2">Mobile Number</p>
            <div
              class="form_input flex h-[40px]"
              [ngClass]="{
                'border-red-500':
                  loginForm.get('mobileNo')?.invalid &&
                  loginForm.get('mobileNo')?.touched
              }"
            >
              <span matPrefix class="h-fit font-poppins">+88 &nbsp;</span>
              <input
                matInput
                maxlength="11"
                class="w-full border-none outline-none font-poppins h-fit"
                type="tel"
                formControlName="mobileNo"
                id="mobileNo"
                placeholder="018-000-00000"
                required
                inputmode="numeric"
              />
            </div>
          </label>

          <label for="Password">
            <p class="font-medium text-slate-700 pb-2">Password</p>
            <div class="form_input flex justify-between">
              <input
                formControlName="password"
                [type]="passwordFieldType"
                name="password"
                id="password"
                placeholder="Password123@*"
                class="w-full outline-none"
              />
              <span
                (click)="passwordVisibility('password')"
                class="cursor-pointer"
              >
                <i
                  [class]="
                    passwordFieldType === 'password'
                      ? 'fa fa-eye-slash'
                      : 'fa fa-eye'
                  "
                ></i>
              </span>
            </div>
            <div class="flex flex-col">
              <mat-error
                *ngIf="
                  formSubmitted &&
                  loginForm.get('password')?.hasError('required')
                "
              >
                Password is required.
              </mat-error>
              <mat-error
                *ngIf="
                  formSubmitted &&
                  loginForm.get('password')?.hasError('startsWithUppercase')
                "
              >
                Password must start with an uppercase letter.
              </mat-error>
              <mat-error
                *ngIf="
                  formSubmitted &&
                  loginForm.get('password')?.hasError('isAtLeast6Characters')
                "
              >
                Password must be at least 6 characters long.
              </mat-error>
              <mat-error
                *ngIf="
                  formSubmitted &&
                  loginForm
                    .get('password')
                    ?.hasError('includesSpecialCharacter')
                "
              >
                Password must include a special character.
              </mat-error>
              <mat-error
                *ngIf="
                  formSubmitted &&
                  loginForm.get('password')?.hasError('includesNumber')
                "
              >
                Password must include a number.
              </mat-error>
              <mat-error
                *ngIf="loginForm.get('password')?.hasError('customError')"
              >
                {{ loginForm.get("password")?.getError("customError") }}
              </mat-error>
            </div>
          </label>

          <div
            *ngIf="this.errorMessage"
            class="p-4 mb-4 text-sm text-yellow-800 rounded-lg bg-yellow-50 font-semibold font-poppins"
            role="alert"
          >
            <i class="fa-solid fa-circle-exclamation mr-2"></i>
            {{ this.errorMessage }}
          </div>
          <p>
            Forgot your password?<strong
              class="cursor-pointer"
              (click)="goToForgotPassword()"
            >
              Reset now</strong
            >
          </p>
          <button
            [disabled]="isLoading || !loginForm.dirty || loginForm.invalid"
            type="submit"
            class="form_btn disabled:bg-gray-500 disabled:select-none"
          >
            <div *ngIf="!isLoading" class="flex items-center">
              <span>Login</span>
              <i class="fa-solid ml-2 fa-right-to-bracket"></i>
            </div>
            <span
              *ngIf="isLoading"
              class="loading loading-dots loading-md"
            ></span>
          </button>
        </div>
      </form>
    </div>

    <p class="mt-5">
      Create a new account
      <strong routerLink="/agent/signup" class="cursor-pointer">Signup</strong>
    </p>
    <!-- <p class="text-center">
      Forgot your password?<strong
        class="cursor-pointer"
        (click)="goToForgotPassword()"
      >
        Reset now</strong
      >
    </p> -->
  </div>

  <div class="md:w-1/2 hidden md:flex justify-start items-center">
    <img
      src="assets/auth/auth-login.svg"
      alt="Login Illustration"
      class="max-w-full h-auto"
    />
  </div>
</section>


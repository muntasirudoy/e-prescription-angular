<div class="signup-form">
  <div class="signup-form__left">
    <img ngSrc="/assets/auth/login-auth.webp" width="400" height="400" alt="auth" priority />
  </div>
  <div class="signup-form__right drop-shadow-soft relative">
    <div class="max-w-lg relative min-w-[500px] mx-auto mt-10 bg-white p-8 rounded-xl shadow shadow-slate-300">
      <img width="70" height="70"
        class="w-[100px] rounded-full border-2 border-white h-[100px] absolute -top-[60px] left-1/2 -translate-x-1/2"
        ngSrc="/assets/auth/sg-icon.png" alt="icon" />
      <h1 class="text-4xl font-semibold font-Roboto text-slate-900 mt-8">
        Login
      </h1>
      <p class="text-slate-500 mt-2">Hi, Welcome to SoowGood ðŸ‘‹</p>
      <form class="mt-6" [formGroup]="loginForm" (submit)="onSubmit()">
        <div class="flex flex-col space-y-5 mt-10">
          <label for="mobile">
            <p class="font-medium text-slate-700 pb-2">Mobile Number</p>
            <div class="form_input flex h-[40px]" [ngClass]="{
                'border-red-500':
                  loginForm.get('mobileNo')?.invalid &&
                  loginForm.get('mobileNo')?.touched
              }">
              <span matPrefix class="h-fit font-Roboto text-[16px]">+88 &nbsp;</span>
              <input autocomplete="off" matInput maxlength="11"
                class="w-full bg-white border-none outline-none font-Roboto h-fit font-semibold text-[16px]" type="tel"
                formControlName="mobileNo" id="mobileNo" placeholder="018-000-00000" required inputmode="numeric" />
            </div>
            <mat-error class="text-red-600" *ngIf="
                loginForm.get('mobileNo')?.hasError('required') &&
                loginForm.get('mobileNo')?.touched
              ">
              You must enter a valid mobile number.
            </mat-error>
            <mat-error class="text-red-500" *ngIf="
                loginForm.get('mobileNo')?.hasError('pattern') &&
                loginForm.get('mobileNo')?.touched
              ">
              Mobile number should have exactly 11 digits and follow the
              Bangladeshi format.
            </mat-error>

            <!-- <mat-error *ngIf="formSubmitted && loginForm.get('mobileNo')?.hasError('invalidFormat')">
                Mobile number should only contain numeric digits.
              </mat-error>
              <mat-error *ngIf="formSubmitted && loginForm.get('mobileNo')?.hasError('invalidLength')">
                Mobile number should have 11 digits.
              </mat-error> -->

            <mat-error *ngIf="loginForm.get('mobileNo')?.hasError('customError')">
              {{ loginForm.get("mobileNo")?.getError("customError") }}
            </mat-error>
          </label>

          <label for="Password">
            <p class="font-medium text-slate-700 pb-2">Password</p>
            <div class="form_input flex justify-between" [ngClass]="{
                'border-red-500':
                  loginForm.get('password')?.invalid &&
                  loginForm.get('password')?.touched
              }">
              <input autocomplete="off" formControlName="password" [type]="passwordFieldType" name="password"
                id="password" class="outline-none border-none w-full bg-white" placeholder="Password123@*" />
              <span (click)="passwordVisibility('password')" class="cursor-pointer">
                <i [class]="
                    passwordFieldType === 'password'
                      ? 'fa fa-eye-slash'
                      : 'fa fa-eye'
                  "></i>
              </span>
            </div>
            <div class="flex flex-col">
              <mat-error *ngIf="
                  formSubmitted &&
                  loginForm.get('password')?.hasError('required')
                ">
                Password is required.
              </mat-error>
              <mat-error *ngIf="
                  formSubmitted &&
                  loginForm.get('password')?.hasError('startsWithUppercase')
                ">
                Password must start with an uppercase letter.
              </mat-error>
              <mat-error *ngIf="
                  formSubmitted &&
                  loginForm.get('password')?.hasError('isAtLeast6Characters')
                ">
                Password must be at least 6 characters long.
              </mat-error>
              <mat-error *ngIf="
                  formSubmitted &&
                  loginForm
                    .get('password')
                    ?.hasError('includesSpecialCharacter')
                ">
                Password must include a special character.
              </mat-error>
              <mat-error *ngIf="
                  formSubmitted &&
                  loginForm.get('password')?.hasError('includesNumber')
                ">
                Password must include a number.
              </mat-error>
              <mat-error *ngIf="loginForm.get('password')?.hasError('customError')">
                {{ loginForm.get("password")?.getError("customError") }}
              </mat-error>
            </div>
          </label>
          <div *ngIf="this.errorMessage"
            class="p-4 mb-4 text-sm text-yellow-800 rounded-lg bg-yellow-50 font-semibold font-Roboto" role="alert">
            <i class="fa-solid fa-circle-exclamation mr-2"></i>
            {{ this.errorMessage }}
          </div>
          <button [disabled]="isLoading || !loginForm.dirty || loginForm.invalid" type="submit"
            class="form_btn disabled:bg-gray-500 disabled:select-none">
            <div *ngIf="!isLoading" class="flex items-center">
              <span>Login</span>
              <i class="fa-solid ml-2 fa-right-to-bracket"></i>
            </div>
            <span *ngIf="isLoading" class="loading loading-dots loading-md"></span>
          </button>

          <p>
            Forgot your password?<strong class="cursor-pointer" (click)="goToForgotPassword()">
              Reset now</strong>
          </p>
          <p class="text-center">
            Don't have an account?
            <a routerLink="/signup" class="text-slate-900 font-medium inline-flex space-x-1 items-center"><span>Sign up
              </span><span><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round"
                    d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                </svg></span></a>
          </p>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- <div
    #reset
    *ngIf="resetModalShow"
    class="absolute top-0 left-0 bg-black/40 border-none h-screen w-full flex justify-center items-center"
  >
    <div class="w-[450px] border-none rounded-xl">
      <section>
        <div
          class="flex flex-col items-center justify-center mx-auto md:h-screen lg:py-0"
        >
          <div class="w-full relative p-12 bg-primary rounded-lg">
            <div
              class="absolute text-slate-900 right-5 top-5"
              (click)="resetModalShow = false"
            >
              <i class="fa-solid fa-rectangle-xmark"></i>
            </div>
  
            <a
              href="/"
              class="flex justify-center items-center mb-3 text-2xl font-semibold text-gray-900"
            >
              <img
                class="w-[200px] h-12 mr-2"
                ngSrc="assets/SoowGood-Logo.png"
                alt="logo"
                width="200"
                height="48"
              />
            </a>
  
            <h2
              class="font-Roboto mb-8 text-[20px] font-normal text-gray-200 text-center"
            >
              Forgot Password
            </h2>
            <form
              [formGroup]="resetPasswordForm"
              class="mt-8 space-y-4 lg:mt-7 md:space-y-5"
            >
              <div *ngIf="!changePasswordShow">
                <label
                  for="number"
                  class="block mb-2 text-sm font-medium text-slate-900"
                  >Your phone number</label
                >
                <input
                  formControlName="username"
                  name="number"
                  id="number"
                  inputmode="numeric"
                  class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"
                  placeholder="018700 00 000"
                  required
                />
                <mat-error
                  *ngIf="
                    resetFormSubmitted &&
                    resetPasswordForm.get('username')?.hasError('required')
                  "
                >
                  You must enter a valid mobile number.
                </mat-error>
                <mat-error
                  *ngIf="
                    resetFormSubmitted &&
                    resetPasswordForm.get('username')?.hasError('pattern')
                  "
                >
                  Mobile number should have exactly 11 digits.
                </mat-error>
                <mat-error
                  *ngIf="
                    resetPasswordForm.get('username')?.hasError('customError')
                  "
                >
                  {{ resetPasswordForm.get("username")?.getError("customError") }}
                </mat-error>
              </div>
  
              <div *ngIf="changePasswordShow">
                <label
                  for="newPassword"
                  class="block mb-2 text-sm font-medium text-gray-100"
                  >New Password</label
                >
                <div class="form_input flex justify-between">
                  <input
                    [type]="resetPasswordFieldType"
                    formControlName="newPassword"
                    (keydown.enter)="$event.preventDefault()"
                    name="newPassword"
                    id="newPassword"
                    placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                    class="outline-none border-none w-full bg-white"
                  />
                  <button
                    (click)="resetPasswordVisibility('newPassword')"
                    class="cursor-pointer"
                  >
                    <i
                      [class]="
                        resetPasswordFieldType === 'password'
                          ? 'fa fa-eye-slash'
                          : 'fa fa-eye'
                      "
                    ></i>
                  </button>
                </div>
                <div class="flex flex-col">
                  <mat-error
                    *ngIf="
                      resetFormSubmitted &&
                      resetPasswordForm.get('newPassword')?.hasError('required')
                    "
                  >
                    Password is required.
                  </mat-error>
                  <mat-error
                    *ngIf="
                      resetFormSubmitted &&
                      resetPasswordForm
                        .get('newPassword')
                        ?.hasError('startsWithUppercase')
                    "
                  >
                    Password must start with an uppercase letter.
                  </mat-error>
                  <mat-error
                    *ngIf="
                      resetFormSubmitted &&
                      resetPasswordForm
                        .get('newPassword')
                        ?.hasError('isAtLeast6Characters')
                    "
                  >
                    Password must be at least 6 characters long.
                  </mat-error>
                  <mat-error
                    *ngIf="
                      resetFormSubmitted &&
                      resetPasswordForm
                        .get('newPassword')
                        ?.hasError('includesSpecialCharacter')
                    "
                  >
                    Password must include a special character.
                  </mat-error>
                  <mat-error
                    *ngIf="
                      resetFormSubmitted &&
                      resetPasswordForm
                        .get('newPassword')
                        ?.hasError('includesNumber')
                    "
                  >
                    Password must include a number.
                  </mat-error>
                </div>
                <mat-hint
                  *ngIf="
                    resetPasswordForm.get('newPassword')?.invalid ||
                    resetPasswordForm.get('newPassword')?.value === '0'
                  "
                  class="text-xs text-red-500 font-normal"
                  align="end"
                  >hint: Password&#64;123</mat-hint
                >
                <label
                  for="confirm-password"
                  class="block mb-2 text-sm font-medium text-gray-100"
                  >Confirm password</label
                >
                <div class="form_input flex justify-between">
                  <input
                    formControlName="confirmPassword"
                    [type]="resetConfPasswordFieldType"
                    (keydown.enter)="$event.preventDefault()"
                    name="confirm-password"
                    id="confirm-password"
                    placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                    class="outline-none border-none w-full bg-white"
                  />
                  <button
                    (click)="resetPasswordVisibility('confirmPassword')"
                    class="cursor-pointer"
                  >
                    <i
                      [class]="
                        resetConfPasswordFieldType === 'password'
                          ? 'fa fa-eye-slash'
                          : 'fa fa-eye'
                      "
                    ></i>
                  </button>
                </div>
                <div class="flex flex-col">
                  <mat-error
                    *ngIf="
                      resetFormSubmitted &&
                      resetPasswordForm
                        .get('confirmPassword')
                        ?.hasError('required')
                    "
                  >
                    Confirm password is required.
                  </mat-error>
                  <mat-error
                    *ngIf="
                      resetFormSubmitted &&
                      resetPasswordForm.get('confirmPassword')?.valid &&
                      resetPasswordForm.get('confirmPassword')?.dirty &&
                      resetPasswordForm.get('confirmPassword')?.errors
                    "
                  >
                    Password not matched.
                  </mat-error>
                </div>
                <div class="flex items-start mt-4">
                  <div class="flex items-center h-5">
                    <input
                      id="newsletter"
                      aria-describedby="newsletter"
                      type="checkbox"
                      class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300"
                      required=""
                    />
                  </div>
                  <div class="ml-3 text-sm">
                    <label for="newsletter" class="font-light text-gray-500"
                      >I accept the
                      <a
                        class="font-medium text-slate-800-600 hover:underline"
                        href="#"
                        >Terms and Conditions</a
                      ></label
                    >
                  </div>
                </div>
              </div>
  
              <button
                *ngIf="!changePasswordShow"
                type="submit"
                (click)="resetPassword()"
                class="w-full text-white bg-secondary bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"
              >
                {{ resetLoading ? "Loading..." : "Reset password" }}
              </button>
  
              <button
                *ngIf="changePasswordShow"
                type="submit"
                (click)="confirmPassword()"
                class="w-full text-white bg-secondary bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"
              >
                Confirm passwod
              </button>
            </form>
          </div>
        </div>
      </section>
    </div>
  </div> -->

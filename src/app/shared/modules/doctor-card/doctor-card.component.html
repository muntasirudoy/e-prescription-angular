<div
  class="live-card p-6 shadow-xl shadow-secondary/10 hover:border-secondary/50 group relative border-[1px] overflow-hidden w-full rounded-[10px] bg-white">
  <div class="w-full h-full z-10">
    <div>

      <div class="w-[90px] relative border-secondary-dark/50 border-[1px] h-[90px] rounded-md bg-secondary/10">
        <img class="object-cover rounded-md w-full h-full" width="90" height="90"
          [ngSrc]="doctorPicurl ? doctorPicurl : '/assets/doctor/avater.png'" alt="doctor" />
        @if (doctorDetails.isOnline && userType !== 'doctor') {
        <span title="Instant call is now available."
          class="absolute w-[25px] h-[25px] flex items-center gap-1 -bottom-1 -right-1 border-4 border-white z-10 text-[12px] text-white font-poppins bg-green-600 rounded-full">
        </span>
        }
      </div>



      <div class="mt-2 h-full">
        <h2 class="text-[22px] font-Roboto text-slate-800">
          <span class="text-[14px]">{{ doctorDetails.doctorTitleName }}</span>
          <br />
          {{ doctorDetails.fullName }}
        </h2>
        <p class="uppercase font-poppinsLight text-gray-400 text-[14px]">
          {{ doctorDetails.qualifications }}
        </p>
        <p class="font-poppinsLight text-gray-400 text-[14px] mb-4">
          {{ doctorDetails.areaOfExperties }}
        </p>
        <app-available-day-time [doctorId]="doctorDetails.id" />

        <!-- <p class="font-Roboto font-normal text-gray-400 text-[14px]">
          Bangabandhu Sheikh Mujib Medical University
        </p> -->
      </div>
    </div>



    <div
      class="mt-10 bg-secondary/10 relative border-secondary-dark/20 pt-3 border-[1px] flex flex-1 gap-4 justify-evenly rounded-lg w-full h-[80px] place-items-center">
      <span
        class="absolute rounded-full border-secondary-dark/20 px-2 text-[13px] font-Roboto text-slate-900 border-[1px] bg-slate-100 -top-3 text-center min-w-[160px] left-1/2 -translate-x-1/2">Doctor's
        Fee (inc. VAT)</span>

      @if(doctorDetails.isOnline && userType == 'agent' &&
      doctorDetails.displayInstantFeeAsAgent >= 0){
      <div>
        <p class="text-slate-900">Instant Call</p>
        <h2 class="text-[18px] 2xl:text-[20px] font-bold text-slate-900">
          {{ doctorDetails.displayInstantFeeAsAgent }}
          <span class="text-[14px]"> tk.</span>
        </h2>
      </div>
      } @else if(doctorDetails.isOnline && userType == 'patient' &&
      doctorDetails.displayInstantFeeAsPatient >= 0){
      <div>
        <p class="text-slate-900">Instant Call</p>
        <h2 class="text-[18px] 2xl:text-[20px] font-bold text-slate-900">
          {{ doctorDetails.displayInstantFeeAsPatient }}
          <span class="text-[14px]"> tk.</span>
        </h2>
      </div>
      } @else if(doctorDetails.displayInstantFeeAsPatient >= 0 &&
      doctorDetails.isOnline ){
      <div>
        <p class="text-slate-900">Instant Call</p>
        <h2 class="text-[18px] 2xl:text-[20px] font-bold text-slate-900">
          {{ doctorDetails.displayInstantFeeAsPatient }}
          <span class="text-[14px]"> tk.</span>
        </h2>
      </div>
      } @if(userType == 'patient' &&
      doctorDetails.displayScheduledPatientChamberFee > 0 && isScheduleChamber){
      <div class="px-1">
        <p class="text-slate-900">Chamber</p>
        <h2 class="text-[18px] 2xl:text-[20px] font-bold text-slate-900">
          {{ doctorDetails.displayScheduledPatientChamberFee }}
          <span class="text-[14px]"> tk.</span>
        </h2>
      </div>
      } @else if(userType == 'agent' &&
      doctorDetails.displayScheduledAgentChamberFee > 0 && isScheduleChamber){
      <div class="px-1">
        <p class="text-slate-900">Chamber</p>
        <h2 class="text-[18px] 2xl:text-[20px] font-bold text-slate-900">
          {{ doctorDetails.displayScheduledAgentChamberFee }}
          <span class="text-[14px]"> tk.</span>
        </h2>
      </div>
      } @else if(doctorDetails.displayScheduledPatientChamberFee > 0 &&
      isScheduleChamber) {
      <div class="px-1">
        <p class="text-slate-900">Chamber</p>
        <h2 class="text-[18px] 2xl:text-[20px] font-bold text-slate-900">
          {{ doctorDetails.displayScheduledPatientChamberFee }}
          <span class="text-[14px]"> tk.</span>
        </h2>
      </div>
      } @if(userType == 'patient' &&
      doctorDetails.displayScheduledPatientOnlineFee > 0 && isScheduleOnline){
      <div>
        <p class="text-slate-900">Online</p>
        <h2 class="text-[18px] 2xl:text-[20px] font-bold text-slate-900">
          {{ doctorDetails.displayScheduledPatientOnlineFee }}
          <span class="text-[14px]"> tk.</span>
        </h2>
      </div>
      } @else if(userType == 'agent' &&
      doctorDetails.displayScheduledAgentOnlineFee > 0 && isScheduleOnline){
      <div>
        <p class="text-slate-900">Online</p>
        <h2 class="text-[18px] 2xl:text-[20px] font-bold text-slate-900">
          {{ doctorDetails.displayScheduledAgentOnlineFee }}
          <span class="text-[14px]"> tk.</span>
        </h2>
      </div>
      } @else if(doctorDetails.displayScheduledPatientOnlineFee > 0 &&
      isScheduleOnline){
      <div>
        <p class="text-slate-900">Online</p>
        <h2 class="text-[18px] 2xl:text-[20px] font-bold text-slate-900">
          {{ doctorDetails.displayScheduledPatientOnlineFee }}
          <span class="text-[14px]"> tk.</span>
        </h2>
      </div>
      }
    </div>

    <div class="group-hover:border-t-secondary/50 box-border gap-3 w-full mt-5 flex justify-between">
      @if (userType !== 'doctor') {
      <button (click)="goToProfile(this.doctorDetails.id)"
        class="px-4 font-semibold hover:bg-secondary/90 bg-gray-200 rounded-lg hover:text-slate-900 font-Roboto/80 text-slate-900">
        <i class="text-slate-900 g fa-solid fa-user-tie text-[18px]"></i>
      </button>

      <button [disabled]="isLoading" (click)="openDialog()"
        class="disabled:bg-gray-400 hover:bg-secondary/80 rounded-lg hover:text-white group-hover:border-r-secondary/50 flex-1 py-3 font-semibold font-Roboto/80 text-white active:scale-95 duration-200 bg-secondary">
        {{ isLoading ? "Loading" : "Book Appointment" }}
      </button>
      } @if (userType=='doctor') {
      <button (click)="goToProfile(this.doctorDetails.id)"
        class="py-3 flex-1 font-semibold hover:bg-secondary/90 bg-gray-200 rounded-lg hover:text-slate-900 font-Roboto/80 text-slate-900">
        <!-- <i class="text-slate-900 g fa-solid fa-user-tie text-[18px]"></i> -->
        Doctor Profile
      </button>
      }
    </div>
  </div>
</div>